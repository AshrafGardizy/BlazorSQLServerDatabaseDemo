@page "/students"
@using BlazorDatabaseDemo.Data
@using BlazorDatabaseDemo.Models
@using Microsoft.EntityFrameworkCore
@inject AppDBContext dbContex
<h3>StudentListsComponent</h3>
<table class="table">
    <thead>
        <tr><th scope="col">First Name</th><th scope="col">Last Name</th><th scope="col">Phone</th><th scope="col">Email</th></tr>
    </thead>
    <tbody>
    @foreach (var item in students)
        {
            <tr><td>@item.FirstName</td><td>@item.LastName</td><td>@item.Phone</td><td>@item.Email</td></tr>
        }
    </tbody>
</table>

@code {
    List<Student> students = new List<Student>();

    protected async override Task OnInitializedAsync()
    {
      students =  await dbContex.Students.ToListAsync<Student>();
    }

}
